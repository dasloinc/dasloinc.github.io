<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>

<body>

    <div class="container">
        <h1> search for answer</h1>

        <!-- Rendered buttons will get dumped here  -->
        <div id="button-view"></div>

        <form id="trivia-form">
            <!-- Button triggers API -->
            <input id="search-button" type="submit" value="My Button">
          </form>

        <!-- the question will appear here -->
        <div id="question-view"></div>
        <div id="correct-view"></div>
        <div id="incorrect-view"></div>

        <script>
        
            const queryURL = "https://opentdb.com/api.php?amount=2&category=22&difficulty=hard&type=multiple";
            var results;
            $.ajax({
                url: queryURL,
                method: "GET"
            }).then(function (response) {
                console.log(queryURL);
                console.log(response);
                results = response.results
                correct_answer = response.correct_answer
                incorrect_answers = response.incorrect_answers
            
                    for(var i=0; i < results.length; i++){
                    console.log(results[i])
                    var div = $("<div>").text(results[i].question);
                        $("#question-view").append(div);
                        
                    for(var i=0; i < results.length; i++){
                    var div = $("<div>").text(results[i].correct_answer);
                        $("#correct-view").append(div);
                    
                    for(var i=0; i < results.length; i++){
                    var div = $("<div>").text(results[i].incorrect_answers);
                        $("#incorrect-view").append(div);
                    }
                    }    
                    };
            });
            
            // function getCountryFromList(triviaQuestions) {
            //     let countryList = ['Saudi Arabia', 'Canada', 'United Kingdom','Angola',]
            // //console.log('show question 1 ', triviaQuestions.results[1].question)
            // //console.log(triviaQuestions.results[1].question.includes(countryList[2]))
            //     for (let index = 0; index < triviaQuestions.results.length; index++) {
            //         console.log (triviaQuestions.results[index].question);
            //         console.log (triviaQuestions.results[index].correct_answer);
            //         console.log (triviaQuestions.results[index].incorrect_answers);
            //     //console.log(triviaQuestions.results[1].question.includes(countryList[index]));
            //         if(triviaQuestions.results[0].question.includes(countryList[index]) === true){
            //     //return countryList[index]; need to add all the array I sent to Rodrigo --> let CountryList
            //         }
            //     }
            // }


            // This function handles events where the add question button is clicked
            $("#search-button").on("click", function(event) {
                event.preventDefault();
                console.log("my button was clicked")
                for(var i=0; i < results.length; i++){
                    console.log(results[i])
                    var div = $("<div>").text(results[i].question)
                    questionnaire.apiQuestion[i].push(results[i].question);
                    questionnaire.correctAnswer[i].push(results[i].correct_answer);
                    questionnaire.incorrectAnswer.incorrect_1[i].push(results[i].incorrect_answer);
                    $("#question-view").append(div)
                }
            });
    
        </script>
    </div>
</body>

</html>